{"ast":null,"code":"var _jsxFileName = \"H:\\\\web front\\\\react\\\\jianshu\\\\src\\\\common\\\\header\\\\header.js\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { actionCreators } from \"./headerStore/index\";\nimport { Link } from \"react-router-dom\";\nimport { HeaderWrapper, Logo, Nav, NavItem, SearchWrapper, NavSearch, SearchInfo, SearchInfoTitle, SearchInfoChange, SearchInfoItem, Addition, Button } from \"./header_style\";\n\nclass Header extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.getListArea = () => {\n      const _this$props = this.props,\n            focused = _this$props.focused,\n            list = _this$props.list,\n            page = _this$props.page,\n            totalPage = _this$props.totalPage,\n            mouseIn = _this$props.mouseIn,\n            handleMouseEnter = _this$props.handleMouseEnter,\n            handleMouseLeave = _this$props.handleMouseLeave,\n            handleListChange = _this$props.handleListChange;\n      const pageList = [];\n\n      if (list.length) {\n        for (let i = (page - 1) * 10; i < page * 10; i++) {\n          if (list[i] !== undefined) {\n            pageList.push(React.createElement(SearchInfoItem, {\n              key: list[i],\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 32\n              },\n              __self: this\n            }, list[i]));\n          }\n        }\n      }\n\n      if (focused || mouseIn) {\n        return React.createElement(SearchInfo, {\n          onMouseEnter: handleMouseEnter,\n          onMouseLeave: handleMouseLeave,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        }, React.createElement(SearchInfoTitle, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        }, \"Popular\", React.createElement(SearchInfoChange, {\n          onClick: () => handleListChange(page, totalPage),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        }, \"Change\")), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }, pageList));\n      } else {\n        return null;\n      }\n    };\n  }\n\n  render() {\n    const _this$props2 = this.props,\n          logInStatus = _this$props2.logInStatus,\n          handleFocus = _this$props2.handleFocus,\n          handleBlur = _this$props2.handleBlur,\n          logOut = _this$props2.logOut;\n    console.log(logInStatus);\n    return React.createElement(HeaderWrapper, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(Logo, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }), React.createElement(Nav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(NavItem, {\n      className: \"left active\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"\\u9996\\u9875\"), React.createElement(NavItem, {\n      className: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"\\u4E0B\\u8F7DApp\"), !logInStatus ? React.createElement(NavItem, {\n      className: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/login\",\n      style: {\n        textDecoration: \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"\\u767B\\u9646\"), \" \") : React.createElement(NavItem, {\n      className: \"right\",\n      onClick: handleLogOut,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Log out \"), React.createElement(NavItem, {\n      className: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"iconfont\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"\\uE636\")), React.createElement(SearchWrapper, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(NavSearch, {\n      onFocus: handleFocus,\n      onBlur: handleBlur,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"iconfont\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"\\uE637\"), this.getListArea())), React.createElement(Addition, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(Button, {\n      className: \"writing\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"iconfont\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"\\uE603\"), \"\\u5199\\u6587\\u7AE0\"), React.createElement(Button, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"\\u6CE8\\u518C\")));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    focused: state.header.focused,\n    list: state.header.list,\n    page: state.header.page,\n    totalPage: state.header.totalPage,\n    mouseIn: state.header.mouseIn,\n    logInStatus: state.logIn.logInStatus\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    handleFocus() {\n      dispatch(actionCreators.searchPopular());\n      dispatch(actionCreators.searchFocus());\n    },\n\n    handleBlur() {\n      dispatch(actionCreators.searchBlur());\n    },\n\n    handleMouseEnter() {\n      dispatch(actionCreators.mouseEnter());\n    },\n\n    handleMouseLeave() {\n      dispatch(actionCreators.mouseLeave());\n    },\n\n    handleListChange(page, totalPage) {\n      if (page < totalPage) {\n        dispatch(actionCreators.changeList(page + 1));\n      } else {\n        dispatch(actionCreators.changeList(1));\n      }\n    },\n\n    handleLogOut() {}\n\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);","map":{"version":3,"sources":["H:\\web front\\react\\jianshu\\src\\common\\header\\header.js"],"names":["React","connect","actionCreators","Link","HeaderWrapper","Logo","Nav","NavItem","SearchWrapper","NavSearch","SearchInfo","SearchInfoTitle","SearchInfoChange","SearchInfoItem","Addition","Button","Header","Component","getListArea","props","focused","list","page","totalPage","mouseIn","handleMouseEnter","handleMouseLeave","handleListChange","pageList","length","i","undefined","push","render","logInStatus","handleFocus","handleBlur","logOut","console","log","textDecoration","handleLogOut","mapStateToProps","state","header","logIn","mapDispatchToProps","dispatch","searchPopular","searchFocus","searchBlur","mouseEnter","mouseLeave","changeList"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {actionCreators} from \"./headerStore/index\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {\r\n    HeaderWrapper, \r\n    Logo,\r\n    Nav,\r\n    NavItem,\r\n    SearchWrapper,\r\n    NavSearch,\r\n    SearchInfo,\r\n    SearchInfoTitle,\r\n    SearchInfoChange,\r\n    SearchInfoItem,\r\n    Addition,\r\n    Button\r\n} from \"./header_style\";\r\n\r\n\r\nclass Header extends React.Component{\r\n    \r\n    getListArea = () => {\r\n        const {\r\n            focused, list, page, totalPage, mouseIn, \r\n            handleMouseEnter, handleMouseLeave, handleListChange\r\n        } = this.props;\r\n        const pageList = [];\r\n        if(  list.length){\r\n            for(let i = (page-1)*10; i < page*10; i++){\r\n                if(list[i]!== undefined){\r\n                    pageList.push( <SearchInfoItem key={list[i]}>{list[i]}</SearchInfoItem>);\r\n                }\r\n            }\r\n        }\r\n        \r\n        if(focused || mouseIn) {\r\n            return (\r\n                <SearchInfo \r\n                onMouseEnter={handleMouseEnter}\r\n                onMouseLeave={handleMouseLeave}>\r\n                        <SearchInfoTitle>\r\n                            Popular\r\n                            <SearchInfoChange onClick={()=> handleListChange(page, totalPage)}>\r\n                            Change\r\n                            </SearchInfoChange>\r\n                        </SearchInfoTitle>\r\n                        <div>\r\n                            {pageList}\r\n                        </div>\r\n                    </SearchInfo>\r\n            )\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const { logInStatus, handleFocus, handleBlur, logOut} = this.props;\r\n        console.log(logInStatus);\r\n        return (\r\n            <HeaderWrapper>\r\n                    <Logo></Logo>\r\n                <Nav>\r\n                    <NavItem className=\"left active\">首页</NavItem>\r\n                    <NavItem className=\"left\">下载App</NavItem>\r\n                    {\r\n                      \r\n                        !logInStatus ? <NavItem className=\"right\"><Link to=\"/login\" style={{textDecoration: \"none\"}}>登陆</Link> </NavItem> :\r\n                        <NavItem className=\"right\" onClick={handleLogOut}>Log out </NavItem>\r\n                    }\r\n                   \r\n                    <NavItem className=\"right\"><span className=\"iconfont\">&#xe636;</span></NavItem>\r\n                    <SearchWrapper>\r\n                        <NavSearch \r\n                        onFocus={handleFocus}\r\n                        onBlur ={handleBlur}>\r\n                        </NavSearch>\r\n                        <span className=\"iconfont\">&#xe637;</span>\r\n                        {this.getListArea()}\r\n                    </SearchWrapper>\r\n                    \r\n                </Nav>\r\n                <Addition>\r\n                    <Button className=\"writing\"><span className=\"iconfont\">&#xe603;</span>写文章</Button>\r\n                    <Button>注册</Button>\r\n                </Addition>\r\n            </HeaderWrapper>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        focused: state.header.focused,\r\n        list: state.header.list,\r\n        page: state.header.page,\r\n        totalPage: state.header.totalPage,\r\n        mouseIn: state.header.mouseIn,\r\n        logInStatus: state.logIn.logInStatus\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) =>{\r\n    return {\r\n        handleFocus(){ \r\n            dispatch(actionCreators.searchPopular());\r\n            dispatch(actionCreators.searchFocus());\r\n        },\r\n        handleBlur(){\r\n            dispatch(actionCreators.searchBlur());\r\n        },\r\n\r\n        handleMouseEnter(){\r\n            dispatch(actionCreators.mouseEnter());\r\n        },\r\n        handleMouseLeave(){\r\n            dispatch(actionCreators.mouseLeave());\r\n        },\r\n        handleListChange(page, totalPage){\r\n           \r\n            if(page < totalPage){\r\n                dispatch(actionCreators.changeList(page+1));\r\n            }else{\r\n                dispatch(actionCreators.changeList(1));\r\n            }\r\n        },\r\n        handleLogOut(){\r\n\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);"]},"metadata":{},"sourceType":"module"}